# ๐ ุฏููู Postman ุงูุดุงูู ููุณู ุชุฃุฌูุฑ ุงูุณูุงุฑุงุช (Car Rent)

## ๐ ูุธุฑุฉ ุนุงูุฉ
ูุฐุง ุงูุฏููู ูุบุทู ุฌููุน API endpoints ุงูุฎุงุตุฉ ุจูุณู ุชุฃุฌูุฑ ุงูุณูุงุฑุงุช ูู ุชุทุจูู Dubai Saleุ ุจูุง ูู ุฐูู ุงูุงุณุชุนุฑุงุถ ุงูุนุงูุ ุงูุจุญุซุ ุนุฑุถ ุฅุนูุงู ูุญุฏุฏุ ูุนูููุงุช ุงูุฅูุดุงุก/ุงูุชุญุฏูุซ/ุงูุญุฐูุ ุจุงูุฅุถุงูุฉ ุฅูู ุชูุนูู ุตูุฏูู ุงูุนุฑูุถ (Offers Box) ูุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช ููุฃุฏูู.

## ๐ Base URL
```
http://localhost:8000/api
```

## ๐ ุงููุตุงุฏูุฉ (Authentication)
- ุนูููุงุช ุงููุฑุงุกุฉ ุงูุนุงูุฉ (ูุงุฆูุฉ ุงูุฅุนูุงูุงุชุ ุนุฑุถ ุฅุนูุงูุ ุงูุจุญุซุ ุนุฑูุถ ุงูุตูุฏูู) ูุง ุชุชุทูุจ ุชููู.
- ุนูููุงุช ุงูุฅูุดุงุก/ุงูุชุนุฏูู/ุงูุญุฐู ูุชูุนูู ุตูุฏูู ุงูุนุฑูุถ ุชุชุทูุจ ุฅุฑุณุงู ุชููู ูุณุชุฎุฏู ุตุงูุญ:
```
Authorization: Bearer YOUR_USER_TOKEN_HERE
```
- ููุตู ุฃู ุชููู ุนูููุงุช ุงูุฅุฏุงุฑุฉ (Admin) ูุญููุฉ ุจุชููู ุฃุฏูู.

---
# ๐ฅ ุงููุณู ุงูุฃูู: API ูููุณุชุฎุฏููู (ุนุงู โ Public)

### 1.1 ๐ ุงูุญุตูู ุนูู ุฌููุน ุฅุนูุงูุงุช ุชุฃุฌูุฑ ุงูุณูุงุฑุงุช
**GET** `/car-rent`

**ุงููุตู:** ุฌูุจ ุฌููุน ุงูุฅุนูุงูุงุช ุงููุนุชูุฏุฉ ูุงููุดุทุฉ ูุน ููุงุชุฑ ูุชุนุฏุฏุฉ.

**Query Parameters:**
- `make` (ุงุฎุชูุงุฑู): ุงูุดุฑูุฉ ุงููุตููุนุฉ
- `model` (ุงุฎุชูุงุฑู): ุงูููุฏูู
- `trim` (ุงุฎุชูุงุฑู): ุงููุฆุฉ/ุงููุฆุฉ ุงููุฑุนูุฉ
- `year` (ุงุฎุชูุงุฑู): ุณูุฉ ุงูุตูุน
- `emirate` (ุงุฎุชูุงุฑู): ุงูุฅูุงุฑุฉ
- `district` (ุงุฎุชูุงุฑู): ุงูููุทูุฉ
- `area` (ุงุฎุชูุงุฑู): ุงูุญู
- `min_price` / `max_price` (ุงุฎุชูุงุฑู): ูุทุงู ุงูุณุนุฑ ุงูุนุงู
- `min_day_rent` / `max_day_rent` (ุงุฎุชูุงุฑู): ูุทุงู ุณุนุฑ ุงูุฅูุฌุงุฑ ุงููููู
- `min_month_rent` / `max_month_rent` (ุงุฎุชูุงุฑู): ูุทุงู ุณุนุฑ ุงูุฅูุฌุงุฑ ุงูุดูุฑู
- `page` (ุงุฎุชูุงุฑู): ุฑูู ุงูุตูุญุฉ (ุงูุชุฑููู 15 ุนูุตุฑ/ุตูุญุฉ)

**ุฃูุซูุฉ:**
```
GET /api/car-rent
GET /api/car-rent?emirate=Dubai&make=Toyota&model=Yaris&year=2022
GET /api/car-rent?min_day_rent=100&max_day_rent=200&district=Deira
```

**ูุซุงู ุงุณุชุฌุงุจุฉ (ูุฎุชุตุฑ):**
```json
{
  "current_page": 1,
  "data": [
    {
      "id": 101,
      "title": "ุชูููุชุง ูุงุฑุณ ููุชุฃุฌูุฑ ุงููููู",
      "description": "ุณูุงุฑุฉ ุงูุชุตุงุฏูุฉ ุจุญุงูุฉ ููุชุงุฒุฉ",
      "emirate": "Dubai",
      "district": "Deira",
      "area": "Al Rigga",
      "make": "Toyota",
      "model": "Yaris",
      "trim": "LE",
      "year": 2022,
      "day_rent": 150,
      "month_rent": 2200,
      "price": null,
      "advertiser_name": "Ali Rent",
      "phone_number": "+971501234567",
      "whatsapp": "+971501234567",
      "main_image_url": "http://localhost:8000/storage/car_rent/main/101.jpg",
      "thumbnail_images_urls": [],
      "views": 12,
      "status": "Valid",
      "category": "Car Rent"
    }
  ],
  "per_page": 15,
  "total": 1
}
```

### 1.2 ๐ ุงูุจุญุซ ุงููุชูุฏู
**GET** `/car-rent/search`

**ุงููุตู:** ุจุญุซ ูุชูุฏู ูุน ุฏุนู ุงููููุงุช ุงูููุชุงุญูุฉ ูุฎูุงุฑุงุช ุชุฑุชูุจ ูุชุนุฏุฏุฉ.

**Query Parameters:**
- `emirate`, `make`, `model`, `trim`, `year`, `district`, `area` (ุงุฎุชูุงุฑู)
- `min_price`, `max_price` (ุงุฎุชูุงุฑู)
- `min_day_rent`, `max_day_rent` (ุงุฎุชูุงุฑู)
- `min_month_rent`, `max_month_rent` (ุงุฎุชูุงุฑู)
- `keyword` (ุงุฎุชูุงุฑู): ุจุญุซ ูู ุงูุนููุงู/ุงููุตู/ุงููุงุฑูุฉ/ุงูููุฏูู/ุงููุฆุฉ
- `sort_by` (ุงุฎุชูุงุฑู): `latest` (ุงูุชุฑุงุถู) | `price_low` | `price_high` | `most_viewed`
- `per_page` (ุงุฎุชูุงุฑู): ูู 1 ุฅูู 50 (ุงูุชุฑุงุถู 15)
- `page` (ุงุฎุชูุงุฑู): ุฑูู ุงูุตูุญุฉ

**ุฃูุซูุฉ:**
```
GET /api/car-rent/search?keyword=yar&emirate=Dubai&sort_by=price_low&per_page=10
GET /api/car-rent/search?make=Toyota&model=Yaris&year=2022&district=Deira
GET /api/car-rent/search?min_month_rent=1500&max_month_rent=3000&sort_by=most_viewed
```

### 1.3 ๐๏ธ ุนุฑุถ ุฅุนูุงู ูุญุฏุฏ
**GET** `/car-rent/{id}`

- ูุฒูุฏ ุงูุนุฏุงุฏ views ุชููุงุฆูุงู ุนูุฏ ุงููุชุญ.

**ูุซุงู:**
```
GET /api/car-rent/101
```

**ูุซุงู ุงุณุชุฌุงุจุฉ (ูุฎุชุตุฑ):**
```json
{
  "id": 101,
  "title": "ุชูููุชุง ูุงุฑุณ ููุชุฃุฌูุฑ ุงููููู",
  "description": "ุณูุงุฑุฉ ุงูุชุตุงุฏูุฉ ุจุญุงูุฉ ููุชุงุฒุฉ",
  "emirate": "Dubai",
  "district": "Deira",
  "area": "Al Rigga",
  "make": "Toyota",
  "model": "Yaris",
  "trim": "LE",
  "year": 2022,
  "day_rent": 150,
  "month_rent": 2200,
  "price": null,
  "advertiser_name": "Ali Rent",
  "phone_number": "+971501234567",
  "whatsapp": "+971501234567",
  "main_image_url": "http://localhost:8000/storage/car_rent/main/101.jpg",
  "thumbnail_images_urls": [],
  "views": 13,
  "status": "Valid",
  "category": "Car Rent"
}
```

### 1.4 ๐ ุฅุนูุงูุงุช ุตูุฏูู ุงูุนุฑูุถ (Offers Box)
**GET** `/car-rent/offers-box/ads`

- ุงููุนุงูู `limit` (ุงุฎุชูุงุฑูุ ุงูุชุฑุงุถู 10): ุนุฏุฏ ุงูุฅุนูุงูุงุช ุงููุทููุจุฉ.

**ุฃูุซูุฉ:**
```
GET /api/car-rent/offers-box/ads
GET /api/car-rent/offers-box/ads?limit=5
```

---
# ๐ ุงููุณู ุงูุซุงูู: ุงูุนูููุงุช ุงููุญููุฉ (Authenticated)
> ูุฌุจ ุฅุฑุณุงู ุชููู ุงููุณุชุฎุฏู ูู ุฌููุน ุงูุทูุจุงุช ุงูุชุงููุฉ.

### 2.1 โ ุฅูุดุงุก ุฅุนูุงู ุชุฃุฌูุฑ ุฌุฏูุฏ
**POST** `/car-rent-ads`

**Headers:**
```
Authorization: Bearer YOUR_USER_TOKEN
Content-Type: multipart/form-data
```

**Body (Form Data):**
- `title` (ูุทููุจ)
- `description` (ูุทููุจ)
- `emirate` (ูุทููุจ)
- `district` (ุงุฎุชูุงุฑู)
- `area` (ุงุฎุชูุงุฑู)
- `make` (ุงุฎุชูุงุฑู)
- `model` (ุงุฎุชูุงุฑู)
- `trim` (ุงุฎุชูุงุฑู)
- `year` (ุงุฎุชูุงุฑูุ 1900 ุฅูู ุงูุณูุฉ ุงูุญุงููุฉ+1)
- `day_rent` (ุงุฎุชูุงุฑูุ ุฑูู โฅ0)
- `month_rent` (ุงุฎุชูุงุฑูุ ุฑูู โฅ0)
- `price` (ุงุฎุชูุงุฑูุ ุฑูู โฅ0)
- `location` (ุงุฎุชูุงุฑูุ ุญุชู 500 ุญุฑู)
- `advertiser_name` (ูุทููุจ)
- `phone_number` (ูุทููุจ)
- `whatsapp` (ุงุฎุชูุงุฑู)
- `main_image` (ูุทููุจ: ููู ุตูุฑุฉ ุญุชู 5MB)
- `thumbnail_images[]` (ุงุฎุชูุงุฑู: ูููุงุช ุตูุฑ ุญุชู 5MB ููุตูุฑุฉ)
- ุญููู ุงูุฎุทุฉ (ุงุฎุชูุงุฑู): `plan_type`, `plan_days`, `plan_expires_at`

**ุงุณุชุฌุงุจุฉ ูุงุฌุญุฉ (201 ูุฎุชุตุฑ):**
```json
{
  "success": true,
  "message": "ุชู ุฅุถุงูุฉ ุงูุฅุนูุงู ุจูุฌุงุญ",
  "data": {
    "id": 123,
    "title": "Hyundai Accent 2021",
    "make": "Hyundai",
    "model": "Accent",
    "year": 2021,
    "price": null,
    "main_image": "car_rent/main/abc123.jpg",
    "thumbnail_images_urls": []
  }
}
```

ููุงุญุธุฉ: ุฅุฐุง ูุงู ูุถุน ุงูููุงููุฉ ุงููุฏูู ููุนูุงู ูู ุฅุนุฏุงุฏุงุช ุงููุธุงูุ ุณูุชู ุญูุธ ุงูุฅุนูุงู ุจุญุงูุฉ `Pending` ุฅูู ุฃู ููุงูู ุงูุฃุฏููุ ูุฅูุง ุณูุชู ูุดุฑู ูุจุงุดุฑุฉ ุจุญุงูุฉ `Valid`.

### 2.2 โ๏ธ ุชุญุฏูุซ ุฅุนูุงู
**PUT/PATCH** `/car-rent-ads/{id}`

- ุฌููุน ุงูุญููู ุงุฎุชูุงุฑูุฉ (ูุชู ุชุญุฏูุซ ุงูููุฑุณู ููุท)
- ูููู ุงุณุชุจุฏุงู `main_image` ูุฅุถุงูุฉ ุงููุฒูุฏ ูู `thumbnail_images[]`

**Headers:**
```
Authorization: Bearer YOUR_USER_TOKEN
Content-Type: multipart/form-data
```

**ุฃูุซูุฉ:**
```
PUT /api/car-rent-ads/123
Body: description=ุญุงูุฉ ููุชุงุฒุฉ ูุตูุงูุฉ ููุงูุฉ&day_rent=130
```

**ุงุณุชุฌุงุจุฉ (ูุฎุชุตุฑ):**
```json
{
  "success": true,
  "message": "ุชู ุชุญุฏูุซ ุงูุฅุนูุงู ุจูุฌุงุญ",
  "data": { "id": 123, "day_rent": 130 }
}
```

### 2.3 ๐๏ธ ุญุฐู ุฅุนูุงู
**DELETE** `/car-rent-ads/{id}`

**Headers:**
```
Authorization: Bearer YOUR_USER_TOKEN
Content-Type: application/json
```

**ูุซุงู:**
```
DELETE /api/car-rent-ads/123
```

**ุงุณุชุฌุงุจุฉ ูุงุฌุญุฉ:**
```json
{ "success": true }
```

### 2.4 โญ ุชูุนูู ุตูุฏูู ุงูุนุฑูุถ (Offers Box)
**POST** `/offers-box/activate`

- ูููู ุจุชุฑููุฉ ุฅุนูุงูู ููุธูุฑ ูู ุตูุฏูู ุงูุนุฑูุถ ููุชุฑุฉ ูุญุฏุฏุฉ.

**Headers:**
```
Authorization: Bearer YOUR_USER_TOKEN
Content-Type: application/json
```

**Body (JSON):**
```json
{
  "ad_id": 123,
  "category_slug": "car_rent",
  "days": 7
}
```

**ุงุณุชุฌุงุจุฉ (ูุซุงู):**
```json
{
  "message": "Ad has been successfully promoted to the Offers Box!",
  "total_price": 35.0,
  "expires_at": "2025-09-24T10:15:30.000000Z"
}
```

ููุงุญุธุงุช:
- ุฅุฐุง ูุงู ุงูุฅุนูุงู ููุนูู ูุณุจูุงู ูู ุงูุตูุฏูู ุณุชุญุตู ุนูู ุฎุทุฃ (422).
- ูู ุญุงู ูุตูู ุงูุตูุฏูู ููุญุฏ ุงูุฃูุตู ููุฐุง ุงููุณู ุณูุชู ุฅุฑุฌุงุน ุฎุทุฃ (422).

---
# ๐ก๏ธ ุงููุณู ุงูุซุงูุซ: ุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช (Admin)

> ูููุชุฑุถ ุงุณุชุฎุฏุงู ุชููู ุฃุฏูู. (ุงููุณุงุฑุงุช ุงูุญุงููุฉ ุจุฏูู ุจุงุฏุฆุฉ `/admin` ุญุณุจ ุงูููุฏ ุงููุงุฆู)

### 3.1 ๐ ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ
**GET** `/car-rent/stats`

**ูุซุงู ุงุณุชุฌุงุจุฉ:**
```json
{
  "total_ads": 120,
  "active_ads": 75,
  "pending_ads": 30,
  "rejected_ads": 15
}
```

### 3.2 ๐๏ธ ุฅุฏุงุฑุฉ ูุงุฆูุฉ ุงูุฅุนูุงูุงุช ูุน ููุงุชุฑ
**GET** `/car-rent-ads`

**Query Parameters:**
- `status` (ุงุฎุชูุงุฑู): `Valid` | `Pending` | `Rejected`
- `approved` (ุงุฎุชูุงุฑู): `true` | `false`

**ุฃูุซูุฉ:**
```
GET /api/car-rent-ads?status=Pending
GET /api/car-rent-ads?approved=true
```

### 3.3 โ ุงุนุชูุงุฏ ุฅุนูุงู
**POST** `/car-rent-ads/{id}/approve`

**ุงุณุชุฌุงุจุฉ:**
```json
{ "success": true }
```

### 3.4 โ ุฑูุถ ุฅุนูุงู
**POST** `/car-rent-ads/{id}/reject`

**ุงุณุชุฌุงุจุฉ:**
```json
{ "success": true }
```

---
## ๐งพ ูููู ุจูุงูุงุช ุงูุฅุนูุงู
- ุงูุญููู ุงููุฎููุฉ ูู ุงูุงุณุชุฌุงุจุฉ: `main_image`, `thumbnail_images` (ูุชู ุฅุฑุฌุงุน ุฑูุงุจุทูุง ุนุจุฑ ุญููู ูุดุชูุฉ)
- ุงูุญููู ุงููุถุงูุฉ ุชููุงุฆูุงู ูู ุงูุงุณุชุฌุงุจุฉ: `main_image_url`, `thumbnail_images_urls`, `status`, `category`

**ูุซุงู ุนูุตุฑ ุฅุนูุงู ูู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "id": 101,
  "title": "ุชูููุชุง ูุงุฑุณ ููุชุฃุฌูุฑ ุงููููู",
  "description": "ุณูุงุฑุฉ ุงูุชุตุงุฏูุฉ ุจุญุงูุฉ ููุชุงุฒุฉ",
  "emirate": "Dubai",
  "district": "Deira",
  "area": "Al Rigga",
  "make": "Toyota",
  "model": "Yaris",
  "trim": "LE",
  "year": 2022,
  "day_rent": 150,
  "month_rent": 2200,
  "price": null,
  "location": "ุจุงููุฑุจ ูู ุงููุชุฑู",
  "advertiser_name": "Ali Rent",
  "phone_number": "+971501234567",
  "whatsapp": "+971501234567",
  "views": 25,
  "rank": null,
  "active_offers_box_status": false,
  "active_offers_box_days": null,
  "active_offers_box_expires_at": null,
  "plan_type": null,
  "plan_days": null,
  "plan_expires_at": null,
  "admin_approved": true,
  "add_status": "Valid",
  "main_image_url": "http://localhost:8000/storage/car_rent/main/101.jpg",
  "thumbnail_images_urls": [],
  "status": "Valid",
  "category": "Car Rent"
}
```

---
## ๐ ููุงุญุธุงุช ุนูููุฉ
- ุงูููุงููุฉ ุงููุฏููุฉ: ูุชุญูู ุจูุง ููุชุงุญ ุงููุธุงู `manual_approval_mode_car_rent` (ูุน ูุฌูุฏ ุจุฏูู ุนุงู `manual_approval_mode`). ุนูุฏ ุชูุนูููุง ุชููุดุฃ ุงูุฅุนูุงูุงุช ุจุญุงูุฉ `Pending` ูุฅูุง ุชููุดุฑ ูุจุงุดุฑุฉ `Valid`.
- ุงูุชุฎุฒูู: ูุชู ุญูุธ ุงูุตูุฑ ูู `storage/app/public/car_rent/main` ู `storage/app/public/car_rent/thumbnails`ุ ุชุฃูุฏ ูู ุชูููุฐ `php artisan storage:link` ูุนุฑุถ ุงูุฑูุงุจุท.
- ุงููุฑุฒ ูู ุงูุจุญุซ: ูุฏุนู `latest`, `price_low`, `price_high`, `most_viewed`.
- ุชุฑุชูุจ ุงูุณุนุฑ: ูู ุงูุจุญุซ ูุชู ุงุณุชุฎุฏุงู ุงููููุฉ ุงููุชููุฑุฉ ูู `price` ุฃู `day_rent` ุฃู `month_rent` (ุงูุฃููู ุงููุชุงุญุฉ).
- Offers Box: ูุนุชูุฏ ุนูู ุฅุนุฏุงุฏุงุช ุงููุณู ูู ุฌุฏูู `offer_box_settings` (ูุซู `price_per_day` ู`max_ads`)ุ ุณุชุชููู ุฃุฎุทุงุก ููุงุณุจุฉ ุนูุฏ ุชุฌุงูุฒ ุงูุณุนุฉ ุฃู ุฅุนุงุฏุฉ ุงูุชูุนูู.